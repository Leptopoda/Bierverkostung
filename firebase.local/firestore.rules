// Copyright 2021 Leptopoda. All rights reserved.
// Use of this source code is governed by an APACHE-style license that can be
// found in the LICENSE file.

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userID}/{document=**} {
        allow read, write : if isOwner(userID);
    }

    match /groups/{userID}/{document=**} {
            allow read, write : if request.auth.uid == userID;
        }

      match /{document=**} {
          allow read, write : if true;
      }


    // Functions //

    function isOwner(userID) {
        return  request.auth.uid == userID;
    }

  }
}